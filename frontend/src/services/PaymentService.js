import axios from 'axios';
import { ReactComponent as BankIcon} from "../assets/icons/bank.svg";
import { ReactComponent as LoanIcon} from "../assets/icons/loan.svg";
import { ReactComponent as MoneyBag} from "../assets/icons/money_bag.svg";

const API_URL = 'http://localhost:8000/api';

export const getPaymentMethods = async () => {
    try {
        const response = await axios.get(`${API_URL}/payment-methods`);
        return response.data;
    } catch (error) {
        console.error('Error fetching payment methods:', error);
        // Возвращаем моковые данные если бэкенд недоступен
        return [
            {
                id: 1,
                icon: <BankIcon />,
                title: 'Ипотечное кредитование',
                description: 'Воспользуйтесь выгодными программами от наших банков-партнеров. Мы поможем подобрать лучшие условия и сопроводим на всех этапах сделки.',
                steps: [
                    'Консультация с нашим менеджером.',
                    'Выбор квартиры и программы кредитования.',
                    'Подача заявки в банк-партнер.',
                    'Подписание договора и регистрация сделки.'
                ],
                documents: [
                    'Удостоверение личности.',
                    'Справка о доходах за последние 6 месяцев.',
                    'Выписка из пенсионного фонда.',
                    'Свидетельство о браке/расторжении (при наличии).'
                ]
            },
            {
                id: 2,
                icon: <LoanIcon />,
                title: 'Рассрочка от застройщика',
                description: 'Приобретайте жилье на гибких условиях без переплат и участия банков. Индивидуальный график платежей для вашего комфорта с первоначальным взносом от 30%.',
                steps: [],
                documents: [
                    'Удостоверение личности.',
                    'Подписанный договор долевого участия.',
                    'Квитанция об оплате первоначального взноса.'
                ],
                example: [
                    'Стоимость квартиры: 30 000 000 ₸',
                    'Первоначальный взнос (50%): 15 000 000 ₸',
                    'Остаток: 15 000 000 ₸',
                    'Ежемесячный платеж (на 24 мес.): 625 000 ₸'
                ]
            },
            {
                id: 3,
                icon: <MoneyBag />,
                title: '100% оплата',
                description: 'Получите специальные скидки и лучшие условия при единовременной оплате полной стоимости недвижимости. Это самый быстрый и выгодный способ стать владельцем нового жилья.',
                documents: [
                    'Удостоверение личности.',
                    'Нотариально заверенное согласие супруга(и).'
                ],
                process: [
                    'Выбор квартиры и резервирование.',
                    'Заключение договора купли-продажи.',
                    'Оплата полной стоимости в течение 5 дней.',
                    'Регистрация права собственности.'
                ]
            }
        ];
    }
};